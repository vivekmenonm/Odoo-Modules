<?xml version="1.0" encoding="utf-8"?>
<odoo>
	<data>

		<!-- <function name="write" model="ir.model.data"> -->
		<!-- <function name="search" model="ir.model.data"> -->
		<!-- <value eval="[('module', '=', 'hr_timesheet'), ('name', '=', 'group_hr_timesheet_user')]" /> -->
		<!-- </function> -->
		<!-- <value eval="{'noupdate': False}" /> -->
		<!-- </function> -->

		<!-- <record id="hr_timesheet.group_hr_timesheet_user" model="res.groups"> -->
		<!-- <field name="implied_ids" eval="[(4, ref('group_hr_timesheet_user_own_document'))]"/> -->
		<!-- </record> -->

		<!-- <record id="timesheet_line_rule_user_own_document" model="ir.rule"> -->
		<!-- <field name="name">timesheet.user.own.document</field> -->
		<!-- <field name="model_id" ref="analytic.model_account_analytic_line"/> -->
		<!-- <field name="domain_force">[('employee_id', '=', user.employee_id.id), ('project_id', '!=', False)]</field> -->
		<!-- <field name="groups" eval="[(4, ref('group_hr_timesheet_user_own_document'))]"/> -->
		<!-- </record> -->

		<record id="group_productivity_user" model="res.groups">
			<field name="name">Productivity User</field>
		</record>

		<function name="write" model="ir.model.data">
			<function name="search" model="ir.model.data">
				<value eval="[('module', '=', 'project'), ('name', '=', 'project_public_members_rule')]" />
			</function>
			<value eval="{'noupdate': False}" />
		</function>

		<record model="ir.rule" id="project.project_public_members_rule">
			<field name="active" eval="False" />
		</record>


		<function name="write" model="ir.model.data">
			<function name="search" model="ir.model.data">
				<value eval="[('module', '=', 'project'), ('name', '=', 'task_visibility_rule')]" />
			</function>
			<value eval="{'noupdate': False}" />
		</function>

		<record model="ir.rule" id="project.task_visibility_rule">
			<field name="active" eval="False" />
		</record>


		<record id="hr_timesheet.timesheet_line_rule_user" model="ir.rule">
			<field name="domain_force">[('user_id', '=', user.id), ('employee_id', '=', user.employee_id.id), ('project_id', '!=', False)]
			</field>
			<field name="perm_read" eval="1" />
			<field name="perm_create" eval="1" />
			<field name="perm_write" eval="1" />
			<field name="perm_unlink" eval="1" />
		</record> 

		<record id="timesheet_user_project_rule" model="ir.rule">
			<field name="name">Timesheet User Project Rule</field>
			<field name="model_id" ref="project.model_project_project" />
			<field name="domain_force">[('employee_ids', 'in', user.employee_id.ids)]</field>
			<field name="groups" eval="[(4, ref('hr_timesheet.group_hr_timesheet_user'))]" />
		</record>

		<record id="timesheet_user_project_task_rule" model="ir.rule">
			<field name="name">Timesheet User Project Task Rule</field>
			<field name="model_id" ref="project.model_project_task" />
			<field name="domain_force">[('employee_ids', 'in', user.employee_id.ids)]</field>
			<field name="groups" eval="[(4, ref('hr_timesheet.group_hr_timesheet_user'))]" />
		</record>

	</data>
</odoo>
